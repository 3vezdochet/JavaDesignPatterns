<h1 align="center">
   Prototype
</h1>
<h3 align="center">
   Прототип
</h3>

**Прототип** — это порождающий паттерн проектирования, который позволяет копировать объекты, не вдаваясь в подробности
их реализации.

Прототип особенно полезен при создании сложных или ресурсоемких объектов. Чтобы не создавать индетичный/схожий сложный
объект с нуля, мы просто копируем объект, а затем меняем нужные параметры.

<h3 align="center">
   Реализация
</h3>

1. Интерфейс прототипов описывает операции клонирования. В большинстве случаев — это единственный метод ```clone```.
2. Конкретный прототип реализует операцию клонирования самого себя. Помимо банального копирования значений всех полей,
   здесь могут быть спрятаны различные сложности, о которых не нужно знать клиенту. Например, клонирование связанных
   объектов, распутывание рекурсивных зависимостей и прочее.
3. Клиент создаёт копию объекта, обращаясь к нему через общий интерфейс прототипов.

<h3 align="center">
   Реализация в Java
</h3>

В ЯП **Java** паттерн прототип применяется реализацией интерфейса Cloneable классом и перегрузкой метода clone().
Отдельное внимание стоит обратить на проблему поверхностого-глубокого копирования.

Конструктор копирования в Java не любят. К тому же добавление в конструктор дополнительных действий по глубокому
копированию не приветсвуется, такие особенности лучше вынести в метод ```clone()```.

<h3 align="center">
   Prototype UML-диаграмма
</h3>

<p align="center">
   <img src=https://github.com/evilpeopletyranny/JavaDesignPatterns/blob/main/src/patterns/creational/prototype/diagram.png alt="singleton uml">
</p>

<h3>Плюсы</h3>

- Меньше повторяющегося кода инициализации объектов
- Ускоряет создание объектов.

<h3>Минусы</h3>

- Сложно клонировать составные объекты, имеющие ссылки
  на другие объекты.

<h3 align="center">
   Пример реализации
</h3>

- [Создание двух сложных объектов, у которых отличается одно поле.](https://github.com/evilpeopletyranny/JavaDesignPatterns/tree/main/src/patterns/creational/prototype/code)

<h5 align="center">
   Проблема с примером из книги
</h5>

В книге *Александра Швеца* рассказывается про прототип с общим хранилищем:

1. Это уже частная реализация. Сам паттерн ограничивается только клонированием на самом деле.
2. Это сложно и запутывает для начала.
3. Такую вещь мы рассмотрим в ЛР2, где в Spring такой механизм используется по умолчанию.

<h3 align="center">
   Источники
</h3>

- Design Patterns with
  Java: [Factory Method](https://github.com/evilpeopletyranny/JavaDesignPatterns/blob/main/src/patterns/creational/prototype/books/Olaf%20Musch%20EN.pdf)
- Введение в паттерны
  проектирования: [Фабричный метод](https://github.com/evilpeopletyranny/JavaDesignPatterns/blob/main/src/patterns/creational/prototype/books/Alexander%20Shvets%20RU.pdf)
- [JavaRush: Шаблон проектирования Prototype: реализация на Java.](https://javarush.com/groups/posts/6488-kofe-breyk-259-shablon-proektirovanija-prototype-realizacija-na-java-funkcionaljhnihe-interfeys)
